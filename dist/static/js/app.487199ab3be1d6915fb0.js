webpackJsonp([1],{Ja04:function(t,e){},LKRP:function(t,e){},MSnU:function(t,e){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=s("7+uW"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var r=s("VU/8")({name:"app",components:{}},i,!1,function(t){s("MSnU")},null,null).exports,n=s("/ocq"),l={name:"GridVue",props:["tamanho"],data:()=>({})},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:"col s"+this.tamanho},[this._t("default")],2)},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("i94X")},"data-v-29c43eb6",null).exports,c=s("mtWM"),m=s.n(c),p={name:"CardConteudoVue",props:["perfil","nome","data","id_conteudo","total_curtidas","curtiu_conteudo","comentarios","id_usuario"],data(){return{curtiu:"favorite_border",totalCurtidas:this.total_curtidas,totalComentarios:this.comentarios.length||0,exibirComentarios:!1,textoComentario:""}},mounted(){this.curtiu_conteudo&&(this.curtiu="favorite")},components:{GridVue:d},methods:{curtirPostagem(t){m.a.put(this.$urlAPI+"/conteudo/curtir/"+t,{},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status?(this.totalCurtidas=t.data.curtidas,this.$store.commit("setConteudosLinhaTempo",t.data.lista.conteudos.data),"favorite_border"==this.curtiu?this.curtiu="favorite":this.curtiu="favorite_border"):alert(t.data.erro)}).catch(t=>{console.log(t),alert("Servidor indisponivel!")})},abreComentarios(){this.exibirComentarios=!this.exibirComentarios},comentar(t){m.a.post(this.$urlAPI+"/conteudo/comentario/"+t,{texto:this.textoComentario},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status?(this.$store.commit("setConteudosLinhaTempo",t.data.lista.conteudos.data),this.textoComentario=""):alert(t.data.erro)}).catch(t=>{console.log(t),alert("Servidor indisponivel!")})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row valign-wrapper"},[a("grid-vue",{attrs:{tamanho:"1"}},[a("router-link",{attrs:{to:"/pagina/"+t.id_usuario}},[a("img",{staticClass:"circle responsive-img",attrs:{src:t.perfil,alt:t.nome}})])],1),t._v(" "),a("grid-vue",{attrs:{tamanho:"11"}},[a("span",{staticClass:"black-text"},[a("router-link",{attrs:{to:"/pagina/"+t.id_usuario}},[a("strong",{staticStyle:{color:"black"}},[t._v(t._s(t.nome))]),t._v(" - "),a("small",[t._v(t._s(t.data))])])],1)])],1),t._v(" "),t._t("default")],2),t._v(" "),a("div",{staticClass:"card-action"},[a("p",[a("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.curtirPostagem(t.id_conteudo)}}},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.curtiu))]),t._v(t._s(t.totalCurtidas)+"\n          ")]),t._v(" "),a("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.abreComentarios()}}},[a("i",{staticClass:"material-icons"},[t._v("insert_comment")]),t._v("\n            "+t._s(t.totalComentarios)+"\n          ")])]),t._v(" "),t.exibirComentarios?a("p",{staticClass:"right-align"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.textoComentario,expression:"textoComentario"}],attrs:{type:"text",placeholder:"Comentario"},domProps:{value:t.textoComentario},on:{input:function(e){e.target.composing||(t.textoComentario=e.target.value)}}}),t._v(" "),t.textoComentario?a("button",{staticClass:"btn waves-effect waves-light orange",on:{click:function(e){t.comentar(t.id_conteudo)}}},[a("i",{staticClass:"material-icons"},[t._v("send")])]):t._e()]):t._e(),t._v(" "),t.exibirComentarios?a("p",[a("ul",{staticClass:"collection"},t._l(t.comentarios,function(e){return a("li",{key:e.id,staticClass:"collection-item avatar"},[a("img",{staticClass:"circle",attrs:{src:e.user.imagem,alt:""}}),t._v(" "),a("span",{staticClass:"title"},[t._v(" "+t._s(e.user.name)),a("small",[t._v(" - "+t._s(e.data))])]),t._v(" "),a("p",[t._v(t._s(e.texto))])])}))]):t._e()])])])},staticRenderFns:[]},g=s("VU/8")(p,h,!1,null,null,null).exports,v={name:"CardDetalheVue",props:["img","titulo","txt","link"],data:()=>({})},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this.img&&"#"!=this.img?e("div",{staticClass:"card-image"},[this.link&&"#"!=this.link?e("a",{attrs:{href:this.link,target:"_blank"}},[e("img",{attrs:{src:this.img}}),this._v(" "),e("span",{staticClass:"card-title"},[this._v(this._s(this.titulo||""))])]):e("span",[e("img",{attrs:{src:this.img}}),this._v(" "),e("span",{staticClass:"card-title"},[this._v(this._s(this.titulo||""))])])]):this._e(),this._v(" "),e("div",{staticClass:"card-content"},[this.img&&"#"!=this.img?this._e():e("span",[e("span",{staticClass:"card-title"},[this._v(this._s(this.titulo||""))])]),this._v(" "),e("p",[this._v(this._s(this.txt))]),this._v(" "),this.link&&"#"!=this.link?e("p",[e("a",{attrs:{href:this.link,target:"_blank"}},[this._v(this._s(this.link))])]):this._e()])])},staticRenderFns:[]};var f=s("VU/8")(v,_,!1,function(t){s("hYTp")},"data-v-16649a02",null).exports,C={name:"NavBar",props:["logo","url","cor"],data:()=>({})},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{class:this.cor||"blue"},[e("div",{staticClass:"nav-wrapper container"},[e("router-link",{staticClass:"brand-logo",attrs:{to:this.url||"/"}},[this._v(this._s(this.logo||"Site"))]),this._v(" "),e("ul",{staticClass:"right hide-on-med-and-down",attrs:{id:"nav-mobile"}},[this._t("default")],2)],1)])},staticRenderFns:[]};var w=s("VU/8")(C,x,!1,function(t){s("fXRv")},"data-v-6136f622",null).exports,$={name:"FooterVue",props:["cor","logo","descricao","ano"],data:()=>({})},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{class:"page-footer "+this.cor},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col l6 s12"},[e("h5",{staticClass:"white-text"},[this._v(this._s(this.logo||"Site"))]),this._v(" "),e("p",{staticClass:"grey-text text-lighten-4"},[this._v(this._s(this.descricao||"Sua descrição"))])]),this._v(" "),e("div",{staticClass:"col l4 offset-l2 s12"},[e("h5",{staticClass:"white-text"},[this._v("Links")]),this._v(" "),e("ul",[this._t("default")],2)])])]),this._v(" "),e("div",{staticClass:"footer-copyright"},[e("div",{staticClass:"container"},[this._v("\n    © "+this._s(this.ano||"2018")+" Copyright "+this._s(this.logo||"Site")+"\n    ")])])])},staticRenderFns:[]};var S=s("VU/8")($,k,!1,function(t){s("LKRP")},"data-v-0f095995",null).exports,b={name:"CardMenuVue",props:[],data:()=>({})},P={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card-panel grey lighten-5 z-depth-1"},[this._t("default")],2)},staticRenderFns:[]};var y=s("VU/8")(b,P,!1,function(t){s("xe7P")},"data-v-c48c00dc",null).exports,T={name:"SiteTemplate",data:()=>({usuario:!1}),components:{NavBar:w,FooterVue:S,GridVue:d,CardMenuVue:y},created(){let t=this.$store.getters.getUsuario;t?this.usuario=this.$store.getters.getUsuario:this.$router.push("/login")},methods:{sair(){this.usuario=!1,this.$store.commit("setUsuario",null),this.$router.push("/login"),sessionStorage.clear()}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("header",[a("nav-bar",{attrs:{logo:"Social",url:"/",cor:"green darken-1"}},[t.usuario?a("li",[a("router-link",{attrs:{to:"/perfil"}},[t._v(t._s(t.usuario.name))])],1):t._e(),t._v(" "),t.usuario?a("li",[a("a",{on:{click:function(e){t.sair()}}},[t._v("Sair")])]):t._e()])],1),t._v(" "),a("main",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("grid-vue",{attrs:{tamanho:"4"}},[a("card-menu-vue",[t._t("menuesquerdo")],2),t._v(" "),a("card-menu-vue",[t._t("amigos")],2)],1),t._v(" "),a("grid-vue",{attrs:{tamanho:"8"}},[t._t("principal")],2)],1)])]),t._v(" "),a("footer-vue",{attrs:{cor:"green darken-1",logo:"Social",descricao:"Teste de descrição",ano:"2018"}},[a("li",[a("a",{staticClass:"grey-text text-lighten-3",attrs:{href:"#!"}},[t._v("Link - 1")])]),t._v(" "),a("li",[a("a",{staticClass:"grey-text text-lighten-3",attrs:{href:"#!"}},[t._v("Link - 2")])])])],1)},staticRenderFns:[]};var L=s("VU/8")(T,V,!1,function(t){s("Ja04")},null,null).exports,A={name:"PublicarConteudoVue",data:()=>({conteudo:{titulo:"",texto:"",link:"",imagem:""}}),components:{GridVue:d},methods:{adicionaConteudo(){m.a.post(this.$urlAPI+"/conteudo/adicionar",{titulo:this.conteudo.titulo,texto:this.conteudo.texto,link:this.conteudo.link,imagem:this.conteudo.imagem,id_user:this.conteudo.id},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{if(t.data.status)this.conteudo={titulo:"",texto:"",link:"",imagem:""},this.$store.commit("setConteudosLinhaTempo",t.data.conteudos.data);else{let e="";for(let a of Object.values(t.data.erros))e+=a+"\n";alert(e)}}).catch(t=>{console.log(t),alert("Servidor indisponivel!")})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("grid-vue",{staticClass:"input-field",attrs:{tamanho:"12"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.conteudo.titulo,expression:"conteudo.titulo"}],attrs:{type:"text"},domProps:{value:t.conteudo.titulo},on:{input:function(e){e.target.composing||t.$set(t.conteudo,"titulo",e.target.value)}}}),t._v(" "),t.conteudo.titulo?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.conteudo.texto,expression:"conteudo.texto"}],staticClass:"materialize-textarea",attrs:{placeholder:"Conteudo"},domProps:{value:t.conteudo.texto},on:{input:function(e){e.target.composing||t.$set(t.conteudo,"texto",e.target.value)}}}):t._e(),t._v(" "),t.conteudo.texto&&t.conteudo.titulo?a("input",{directives:[{name:"model",rawName:"v-model",value:t.conteudo.link,expression:"conteudo.link"}],attrs:{type:"text",placeholder:"Link"},domProps:{value:t.conteudo.link},on:{input:function(e){e.target.composing||t.$set(t.conteudo,"link",e.target.value)}}}):t._e(),t._v(" "),t.conteudo.texto&&t.conteudo.titulo?a("input",{directives:[{name:"model",rawName:"v-model",value:t.conteudo.imagem,expression:"conteudo.imagem"}],attrs:{type:"text",placeholder:"Url da imagem"},domProps:{value:t.conteudo.imagem},on:{input:function(e){e.target.composing||t.$set(t.conteudo,"imagem",e.target.value)}}}):t._e(),t._v(" "),a("label",[t._v("O que está acontecendo?")])]),t._v(" "),a("p",{staticClass:"right-align"},[t.conteudo.texto&&t.conteudo.titulo?a("button",{staticClass:"btn waves-effect waves-light",on:{click:function(e){t.adicionaConteudo()}}},[t._v("Publicar")]):t._e()])],1)},staticRenderFns:[]},N=s("VU/8")(A,U,!1,null,null,null).exports,E={name:"Home",data:()=>({usuario:!1,nextPage:null,pararScroll:!1,amigos:[]}),created(){let t=this.$store.getters.getUsuario;t&&(this.usuario=t,this.listaConteudos(),this.listaAmigos())},components:{CardConteudoVue:g,CardDetalheVue:f,PublicarConteudoVue:N,SiteTemplate:L,GridVue:d},methods:{listaConteudos(){m.a.get(this.$urlAPI+"/conteudo/lista",{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.$store.commit("setConteudosLinhaTempo",t.data.conteudos.data),this.nextPage=t.data.conteudos.next_page_url)}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},listaAmigos(){m.a.get(this.$urlAPI+"/usuario/lista_amigos",{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.amigos=t.data.amigos)}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},carregaPaginacao(){this.nextPage&&m.a.get(this.nextPage,{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.$store.commit("setPaginacaoConteudosLinhaTempo",t.data.conteudos.data),this.nextPage=t.data.conteudos.next_page_url,this.pararScroll=!1)}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},handleScroll(){this.pararScroll||window.scrollY>=document.body.clientHeight-1e3&&(this.pararScroll=!0,this.carregaPaginacao())}},computed:{listarConteudos(){return this.$store.getters.getConteudosLinhaTempo}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("site-template",[a("span",{attrs:{slot:"menuesquerdo"},slot:"menuesquerdo"},[a("div",{staticClass:"row valign-wrapper"},[a("grid-vue",{attrs:{tamanho:"4"}},[a("router-link",{attrs:{to:"/pagina/"+t.usuario.id+"/"+t.$slug(t.usuario.name,{lower:!0})}},[a("img",{staticClass:"circle responsive-img",attrs:{src:t.usuario.imagem,alt:""}})])],1),t._v(" "),a("grid-vue",{attrs:{tamanho:"8"}},[a("span",{staticClass:"black-text"},[a("router-link",{attrs:{to:"/pagina/"+t.usuario.id}},[a("h5",{staticStyle:{color:"black"}},[t._v(t._s(t.usuario.name))])])],1)])],1)]),t._v(" "),a("span",{attrs:{slot:"amigos"},slot:"amigos"},[a("h3",[t._v("Seguindo")]),t._v(" "),t._l(t.amigos,function(e){return a("router-link",{key:e.id,attrs:{to:"/pagina/"+e.id}},[a("li",{staticStyle:{color:"black"}},[t._v(t._s(e.name))])])})],2),t._v(" "),a("span",{attrs:{slot:"principal"},slot:"principal"},[a("publicar-conteudo-vue"),t._v(" "),t._l(t.listarConteudos,function(t){return a("card-conteudo-vue",{key:t.id,attrs:{perfil:t.user.imagem,nome:t.user.name,id_conteudo:t.id,id_usuario:t.user_id,total_curtidas:t.total_curtidas,comentarios:t.comentarios,curtiu_conteudo:t.curtiu_conteudo,data:t.data}},[a("card-detalhe-vue",{attrs:{img:t.imagem,titulo:t.titulo,txt:t.texto,link:t.link}})],1)}),t._v(" "),a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.handleScroll,expression:"handleScroll"}]})],2)])},staticRenderFns:[]},R=s("VU/8")(E,I,!1,null,null,null).exports,B={name:"LoginTemplate",components:{NavBar:w,FooterVue:S,GridVue:d,CardMenuVue:y},created(){let t=this.$store.getters.getUsuario;t&&this.$router.push("/")}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("header",[e("nav-bar",{attrs:{logo:"Social",url:"/",cor:"green darken-1"}})],1),this._v(" "),e("main",[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("grid-vue",{attrs:{tamanho:"8"}},[e("card-menu-vue",[this._t("menuesquerdo")],2)],1),this._v(" "),e("grid-vue",{attrs:{tamanho:"4"}},[this._t("principal")],2)],1)])]),this._v(" "),e("footer-vue",{attrs:{cor:"green darken-1",logo:"Social",descricao:"Teste de descrição",ano:"2018"}},[e("li",[e("a",{staticClass:"grey-text text-lighten-3",attrs:{href:"#!"}},[this._v("Home")])]),this._v(" "),e("li",[e("a",{staticClass:"grey-text text-lighten-3",attrs:{href:"#!"}},[this._v("Link 2")])])])],1)},staticRenderFns:[]};var z={name:"Login",data:()=>({cadastro:!1,usuarioCadastro:{email:"",password:"",password_confimed:"",name:""},usuario:{email:"",password:""}}),components:{LoginTemplate:s("VU/8")(B,F,!1,function(t){s("uoDm")},null,null).exports},methods:{login(){m.a.post(`${this.$urlAPI}/login`,{email:this.usuario.email,password:this.usuario.password}).then(t=>{if(t.data.status)sessionStorage.setItem("usuario",JSON.stringify(t.data.usuario)),this.$store.commit("setUsuario",t.data.usuario),this.$router.push("/");else if(0==t.data.status&&t.data.validacao){let e="";for(let a of Object.values(t.data.erros))e+=a+"\n";alert(e)}else alert("Login inválido!")}).catch(t=>{console.log(t),alert("Servidor indisponível!")})},cadastrar(){m.a.post(this.$urlAPI+"/cadastro",{email:this.usuarioCadastro.email,name:this.usuarioCadastro.name,password:this.usuarioCadastro.password,password_confirmation:this.usuarioCadastro.password_confimed}).then(t=>{if(t.data.status)sessionStorage.setItem("usuario",JSON.stringify(t.data.usuario)),this.$store.commit("setUsuario",t.data.usuario),this.$router.push("/");else if(0==t.data.status&&t.data.validacao){let e="";for(let a of Object.values(t.data.erros))e+=a+"\n";alert(e)}else alert("Cadastro inválido!")}).catch(t=>{console.log(t),alert("Servidor indisponível!")})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("login-template",[a("span",{attrs:{slot:"menuesquerdo"},slot:"menuesquerdo"},[a("img",{staticClass:"responsive-img",attrs:{src:"https://www.designerd.com.br/wp-content/uploads/2013/06/criar-rede-social.png",alt:""}})]),t._v(" "),a("span",{attrs:{slot:"principal"},slot:"principal"},[t.cadastro?a("span",[a("h2",[t._v("Cadastro")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuarioCadastro.name,expression:"usuarioCadastro.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:t.usuarioCadastro.name},on:{input:function(e){e.target.composing||t.$set(t.usuarioCadastro,"name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuarioCadastro.email,expression:"usuarioCadastro.email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.usuarioCadastro.email},on:{input:function(e){e.target.composing||t.$set(t.usuarioCadastro,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuarioCadastro.password,expression:"usuarioCadastro.password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:t.usuarioCadastro.password},on:{input:function(e){e.target.composing||t.$set(t.usuarioCadastro,"password",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuarioCadastro.password_confimed,expression:"usuarioCadastro.password_confimed"}],attrs:{type:"password",placeholder:"Confirme sua senha"},domProps:{value:t.usuarioCadastro.password_confimed},on:{input:function(e){e.target.composing||t.$set(t.usuarioCadastro,"password_confimed",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){t.cadastrar()}}},[t._v("Enviar")]),t._v(" "),a("button",{staticClass:"btn orange",on:{click:function(e){t.cadastro=!t.cadastro}}},[t._v("Já tenho conta")])]):a("span",[a("h2",[t._v("Login")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.email,expression:"usuario.email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.usuario.email},on:{input:function(e){e.target.composing||t.$set(t.usuario,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.password,expression:"usuario.password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:t.usuario.password},on:{input:function(e){e.target.composing||t.$set(t.usuario,"password",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){t.login()}}},[t._v("Entrar")]),t._v(" "),a("button",{staticClass:"btn orange",on:{click:function(e){t.cadastro=!t.cadastro}}},[t._v("Cadastra-se")])])])])},staticRenderFns:[]},O=s("VU/8")(z,q,!1,null,null,null).exports,J={name:"Perfil",data:()=>({usuario:!1,email:"",password:"",name:"",password_confimed:"",imagem:""}),components:{SiteTemplate:L},created(){let t=this.$store.getters.getUsuario;t&&(this.usuario=t,this.name=this.usuario.name,this.email=this.usuario.email)},methods:{perfil(){m.a.put(this.$urlAPI+"/perfil",{email:this.email,name:this.name,password:this.password,password_confirmation:this.password_confimed,imagem:this.imagem},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{if(t.data.status)this.usuario=t.data.usuario,this.$store.commit("setUsuario",this.usuario),sessionStorage.setItem("usuario",JSON.stringify(this.usuario)),alert("Perfil atualizado com sucesso");else{let e="";for(let a of Object.values(t.data.erros))e+=a+"\n";alert(e)}}).catch(t=>{console.log(t),alert("Servidor indisponível!")})},voltar(){this.$router.push("/")},salvarImagem(t){let a=t.target.files||e.dataTransfer.files;if(!a.length)return;let s=new FileReader;s.onloadend=(t=>{this.imagem=t.target.result}),s.readAsDataURL(a[0])}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("site-template",[a("span",{attrs:{slot:"menuesquerdo"},slot:"menuesquerdo"},[a("img",{staticClass:"responsive-img",attrs:{src:t.usuario.imagem,alt:""}})]),t._v(" "),a("span",{attrs:{slot:"principal"},slot:"principal"},[a("h2",[t._v("Perfil")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("div",{staticClass:"file-field input-field"},[a("div",{staticClass:"btn"},[a("span",[t._v("Imagem")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:t.salvarImagem}})]),t._v(" "),a("div",{staticClass:"file-path-wrapper"},[a("input",{staticClass:"file-path validate",attrs:{type:"text"}})])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confimed,expression:"password_confimed"}],attrs:{type:"password",placeholder:"Confirme sua senha"},domProps:{value:t.password_confimed},on:{input:function(e){e.target.composing||(t.password_confimed=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:t.perfil}},[t._v("Atualizar")]),t._v(" "),a("button",{staticClass:"btn orange",on:{click:function(e){t.voltar()}}},[t._v("Voltar")])])])},staticRenderFns:[]},G=s("VU/8")(J,D,!1,null,null,null).exports,H={name:"Pagina",data:()=>({usuario:!1,nextPage:null,pararScroll:!1,amigos:[],amigosLogado:[],textoBotao:"Seguir",dono_pagina:{imagem:"",name:"",id:""}}),created(){let t=this.$store.getters.getUsuario;t&&(this.usuario=t,this.listaConteudos())},watch:{$route:"listaConteudos"},components:{CardConteudoVue:g,CardDetalheVue:f,PublicarConteudoVue:N,SiteTemplate:L,GridVue:d},methods:{listaConteudos(){m.a.get(this.$urlAPI+"/conteudo/pagina/lista/"+this.$route.params.id,{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.$store.commit("setConteudosLinhaTempo",t.data.conteudos.data),this.nextPage=t.data.conteudos.next_page_url,this.dono_pagina.imagem=t.data.dono_pagina.imagem,this.dono_pagina.name=t.data.dono_pagina.name,this.dono_pagina.id=t.data.dono_pagina.id,this.listaAmigosPagina())}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},listaAmigosPagina(){m.a.get(this.$urlAPI+"/usuario/lista_amigos_pagina/"+this.dono_pagina.id,{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.amigos=t.data.amigos,this.amigosLogado=t.data.amigos_logado,this.ehAmigo())}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},ehAmigo(){for(let t of this.amigosLogado)if(t.id==this.dono_pagina.id)return void(this.textoBotao="Deixa de Seguir");this.textoBotao="Seguir"},carregaPaginacao(){this.nextPage&&m.a.get(this.nextPage,{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status&&(this.$store.commit("setPaginacaoConteudosLinhaTempo",t.data.conteudos.data),this.nextPage=t.data.conteudos.next_page_url,this.pararScroll=!1)}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})},handleScroll(){this.pararScroll||window.scrollY>=document.body.clientHeight-1e3&&(this.pararScroll=!0,this.carregaPaginacao())},amigo(t){m.a.post(this.$urlAPI+"/usuario/seguir",{id:t},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then(t=>{t.data.status?(this.amigosLogado=t.data.amigos,this.ehAmigo()):console.log(t.data.error)}).catch(t=>{console.log(t),alert("Erro! Tente novamente mais tarde!")})}},computed:{listarConteudos(){return this.$store.getters.getConteudosLinhaTempo},getClasseSeguir(){return"Seguir"==this.textoBotao?"":"orange"}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("site-template",[a("span",{attrs:{slot:"menuesquerdo"},slot:"menuesquerdo"},[a("div",{staticClass:"row valign-wrapper"},[a("grid-vue",{attrs:{tamanho:"4"}},[a("img",{staticClass:"circle responsive-img",attrs:{src:t.dono_pagina.imagem,alt:""}})]),t._v(" "),a("grid-vue",{attrs:{tamanho:"8"}},[a("span",{staticClass:"black-text"},[a("h5",[t._v(t._s(t.dono_pagina.name))]),t._v(" "),t.dono_pagina.id!=t.usuario.id?a("button",{staticClass:"btn",class:t.getClasseSeguir,staticStyle:{cursor:"pointer"},on:{click:function(e){t.amigo(t.dono_pagina.id)}}},[t._v(t._s(t.textoBotao))]):t._e()])])],1)]),t._v(" "),a("span",{attrs:{slot:"amigos"},slot:"amigos"},[a("h3",[t._v("Seguindo")]),t._v(" "),t._l(t.amigos,function(e){return a("router-link",{key:e.id,attrs:{to:"/pagina/"+e.id+"/"+t.$slug(e.name,{lower:!0})}},[a("li",{staticStyle:{color:"black"}},[t._v(t._s(e.name))])])})],2),t._v(" "),a("span",{attrs:{slot:"principal"},slot:"principal"},[a("publicar-conteudo-vue"),t._v(" "),t._l(t.listarConteudos,function(t){return a("card-conteudo-vue",{key:t.id,attrs:{perfil:t.user.imagem,nome:t.user.name,id_conteudo:t.id,total_curtidas:t.total_curtidas,comentarios:t.comentarios,curtiu_conteudo:t.curtiu_conteudo,data:t.data}},[a("card-detalhe-vue",{attrs:{img:t.imagem,titulo:t.titulo,txt:t.texto,link:t.link}})],1)}),t._v(" "),a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.handleScroll,expression:"handleScroll"}]})],2)])},staticRenderFns:[]},j=s("VU/8")(H,M,!1,null,null,null).exports;o.a.use(n.a);var Y=new n.a({mode:"history",routes:[{path:"/",name:"Home",component:R},{path:"/login",name:"Login",component:O},{path:"/perfil",name:"Perfil",component:G},{path:"/pagina/:id/:nome?",name:"Pagina",component:j}]}),X=s("NYxO"),K=s("ngKQ"),W=s.n(K);o.a.use(X.a),o.a.config.productionTip=!1,o.a.prototype.$urlAPI="http://localhost:8000/api",o.a.prototype.$slug=W.a;var Q={state:{usuario:sessionStorage.getItem("usuario")?JSON.parse(sessionStorage.getItem("usuario")):null,conteudosLinhaTempo:[]},getters:{getUsuario:t=>t.usuario,getToken:t=>t.usuario.token,getConteudosLinhaTempo:t=>t.conteudosLinhaTempo},mutations:{setUsuario(t,e){t.usuario=e},setConteudosLinhaTempo(t,e){t.conteudosLinhaTempo=e},setPaginacaoConteudosLinhaTempo(t,e){for(let a of e)t.conteudosLinhaTempo.push(a)}}};o.a.directive("scroll",{inserted:function(t,e){let a=function(s){e.value(s,t)&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}}),new o.a({el:"#app",store:new X.a.Store(Q),router:Y,template:"<App/>",components:{App:r}})},fXRv:function(t,e){},hYTp:function(t,e){},i94X:function(t,e){},uoDm:function(t,e){},xe7P:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.487199ab3be1d6915fb0.js.map